[TOC]

# Django 官方文档学习笔记

> 文档地址：https://docs.djangoproject.com/zh-hans/3.2/contents/
>
> 环境：`macOS10.13.1 + python3.7.3 + Django3.2`

## 安装 `Django` 环境

| Django 版本 | Python 版本                                          |
| ----------- | ---------------------------------------------------- |
| 2.2         | 3.5，3.6，3.7，3.8（2.2.8 添加），3.9（2.2.17 添加） |
| 3.0         | 3.6，3.7，3.8，3.9 （3.0.11 添加）                   |
| 3.1         | 3.6，3.7，3.8，3.9（3.1.3 添加）                     |
| 3.2         | 3.6, 3.7, 3.8, 3.9                                   |

- 安装 `Apache` 和 `mod_wsgi`

如果要在生产站点上使用 `Django`，请将 [Apache](https://httpd.apache.org/) 与 [mod_wsgi](https://modwsgi.readthedocs.io/en/develop/) 一起使用。 `mod_wsgi` 能以两种模式运行：

> **嵌入模式**：在该模式下，`mod_wsgi` 类似于 `mod_perl` —— 它在 `Apache` 中嵌入 `Python`，并在服务器启动时将 `Python` 代码加载到内存中。代码在 `Apache` 进程的整个生命周期中都保留在内存中，与其他服务器相比，这可以显着提高性能；
>
> **守护进程模式**：在该模式下，`mod_wsgi` 会生成一个处理请求的独立守护进程。守护进程可以作为与 `Web` 服务器不同的用户运行，可能会提高安全性。可以在不重新启动整个 `Apache Web` 服务器的情况下重新启动守护进程，从而可以更加无缝地刷新代码库。

`Django` 另一种部署方式：`uWSGI` + `nginx`。

> [uWSGI](https://uwsgi-docs.readthedocs.io/) 是一个快速的，自我驱动的，对开发者和系统管理员友好的应用容器服务器，完全由 `C` 编写。
>
> `uWSGI` 以客户端-服务端模型运行。`Web` 服务器（例如 `nginx`，`Apache`）与一个 `django-uwsgi` “`worker`" 进程交互，提供动态内容。

```bash
# 安装
(django3.2) (base) ☁  ~  python -m pip install uwsgi
# or
(django3.2) (base) ☁  ~  python -m pip install https://projects.unbit.it/downloads/uwsgi-lts.tar.gz
```



## 项目问题及解决方案

1，`uwsgi` 运行报错，具体信息如下：

```bash
(django3.2) (base) ☁  mysite [master] ⚡  uwsgi --help
dyld: Library not loaded: @rpath/libpcre.1.dylib
  Referenced from: /Users/zhangbocheng/.virtualenvs/django3.2/bin/uwsgi
  Reason: image not found
[1]    75254 abort      uwsgi --help
```







## 参考资料
